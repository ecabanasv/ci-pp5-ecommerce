{% extends 'base.html' %} 
{% load static %} 
{% block content %}
<!-- Use the container class to center the content on the page -->
<div class="container mt-5">
  <!-- Use the row class to create a row of columns -->
  <div class="row">
    <!-- Use the col-md-5 class to create a 5 column wide column for the book cover image -->
    <div class="col-12 col-md-5">
      <!-- Use the text-center class to center the image vertically and horizontally -->
      <div class="text-center">
        <!-- Display the book cover image -->
        <img
          src="{{ book.cover_image.url }}"
          class="w-75"
          alt="Book Cover"
        />
      </div>
    </div>
    <!-- Use the col-md-7 class to create a 7 column wide column for the book details -->
    <div class="col-12 col-md-7">
      <!-- Use the h1 tag to display the book title -->
      <h1>{{ book.title }}</h1>
      <!-- Use the h5 tag to display the book ISBN number -->
      <h5>ISBN: {{ book.isbn }}</h5>
      <!-- Use the p tag to display the book description -->
      <p>{{ book.description|safe }}</p>
      <hr />
      <!-- Use the dl tag to create a definition list for the book details -->
      <dl class="row">
        <dt class="col-sm-3">Category</dt>
        <dd class="col-sm-9">{{ book.category|title }}</dd>
        <dt class="col-sm-3">Subcategory</dt>
        <dd class="col-sm-9">{{ book.subcategory|title }}</dd>
        <dt class="col-sm-3">Author</dt>
        <dd class="col-sm-9">{{ book.author }}</dd>
        <dt class="col-sm-3">Publisher</dt>
        <dd class="col-sm-9">{{ book.publisher }}</dd>
        <dt class="col-sm-3">Publication Date</dt>
        <dd class="col-sm-9">{{ book.publication_date }}</dd>
        <dt class="col-sm-3">Pages</dt>
        <dd class="col-sm-9">{{ book.pages }}</dd>
        <dt class="col-sm-3">Language</dt>
        <dd class="col-sm-9">{{ book.language }}</dd>
        <dt class="col-sm-3">Price</dt>
        <dd class="col-sm-9">{{ book.price }} EUR</dd>
        <dt class="col-sm-3">Stock</dt>
        <dd class="col-sm-9">{{ book.stock }} units</dd>
        <dt class="col-sm-3">Rating</dt>
        <dd class="col-sm-9">{{ book.rating }} stars</dd>
      </dl>
      <hr />
      <!-- Use the form tag to create a form for adding the book to the cart -->
      <form action="{% url 'cart:cart_add' item_id=book.id %}" method="POST">
        {% csrf_token %}
        <div class="form-group mb-2">
          <label for="quantity">Quantity:</label>
          <input type="number" name="quantity" value="1" min="1" max="{{ book.stock }}" required>
        </div>
        <input type="hidden" name="redirect_url" value="{{ request.path }}">
        <button type="submit" class="btn btn-secondary">Add to Cart</button>
      </form>      
    </div>
  </div>
</div>
{% endblock %}
